# =============================================================================
# LOCAL DEVELOPMENT ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env.local for local development with Docker databases.
#
# Usage:
#   cp env.local.example .env.local
#   docker-compose -f docker-compose.local.yml -f docker-compose.yml --env-file .env.local up -d
# =============================================================================

# -----------------------------------------------------------------------------
# Environment
# -----------------------------------------------------------------------------
NODE_ENV=development

# -----------------------------------------------------------------------------
# PostgreSQL (Auth Service)
# -----------------------------------------------------------------------------
# Local Docker PostgreSQL
AUTH_DATABASE_URL=postgresql://postgres:postgres_local_dev@postgres:5432/auth_service_db

# Individual DB config (alternative to DATABASE_URL)
DB_HOST=postgres
DB_PORT=5432
DB_NAME=auth_service_db
DB_USERNAME=postgres
DB_PASSWORD=postgres_local_dev
DB_DIALECT=postgres
DB_SSL=false
DB_LOGGING=true

# -----------------------------------------------------------------------------
# MongoDB (Club & Event Services)
# -----------------------------------------------------------------------------
# Club Service - Local Docker MongoDB
CLUB_MONGODB_URI=mongodb://club_service:club_service_local_dev@mongodb:27017/club_service_db?authSource=club_service_db

# Event Service - Local Docker MongoDB
EVENT_MONGODB_URI=mongodb://event_service:event_service_local_dev@mongodb:27017/event_service_db?authSource=event_service_db

# Generic MongoDB URI (for scripts)
MONGODB_URI=mongodb://mongo:mongo_local_dev@mongodb:27017

# -----------------------------------------------------------------------------
# RabbitMQ (Message Queue)
# -----------------------------------------------------------------------------
# All services use the same RabbitMQ instance
AUTH_RABBITMQ_URL=amqp://rabbitmq:rabbitmq_local_dev@rabbitmq:5672
NOTIFY_RABBITMQ_URL=amqp://rabbitmq:rabbitmq_local_dev@rabbitmq:5672
IMAGE_RABBITMQ_URL=amqp://rabbitmq:rabbitmq_local_dev@rabbitmq:5672

# -----------------------------------------------------------------------------
# JWT Configuration
# -----------------------------------------------------------------------------
JWT_ALGORITHM=RS256
JWT_EXPIRES_IN=15m
REFRESH_TOKEN_SECRET=local-dev-refresh-secret-minimum-32-characters-long
REFRESH_TOKEN_EXPIRES_IN=7d

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------
API_GATEWAY_SECRET=local-dev-api-gateway-secret-min-16

# BCRYPT settings
BCRYPT_ROUNDS=10

# Rate limiting (0 = disabled for local dev)
RATE_LIMIT_WINDOW_MS=0
RATE_LIMIT_MAX_REQUESTS=0

# Account security
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCK_TIME_MS=1800000

# -----------------------------------------------------------------------------
# Frontend URLs
# -----------------------------------------------------------------------------
FRONTEND_BASE_URL=http://localhost:3000
FRONTEND_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# Service URLs (for inter-service communication)
# -----------------------------------------------------------------------------
AUTH_SERVICE_URL=http://auth-service:3001
CLUB_SERVICE_URL=http://club-service:3002
EVENT_SERVICE_URL=http://event-service:3003
IMAGE_SERVICE_URL=http://image-service:3004
NOTIFY_SERVICE_URL=http://notify-service:3005

# -----------------------------------------------------------------------------
# Storage Provider (Image Service)
# -----------------------------------------------------------------------------
# Options: auto, cloudinary, minio, s3
# - auto: Uses Cloudinary if configured, otherwise MinIO (recommended)
# - cloudinary: Force Cloudinary (requires cloud credentials)
# - minio: Force MinIO/S3 (works with local Docker)
STORAGE_PROVIDER=auto

# -----------------------------------------------------------------------------
# Cloudinary (Production)
# -----------------------------------------------------------------------------
# Leave empty to use MinIO for local development
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=

# -----------------------------------------------------------------------------
# MinIO (Local S3-Compatible Storage)
# -----------------------------------------------------------------------------
# These work with the local Docker MinIO instance
MINIO_ENDPOINT=minio
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin_local_dev
MINIO_BUCKET=club-management
MINIO_USE_SSL=false
# Public URL for accessing images (from browser)
MINIO_PUBLIC_URL=http://localhost:9000

# File upload limits
MAX_FILE_SIZE=10485760
MAX_FILES=10

# -----------------------------------------------------------------------------
# Development Flags
# -----------------------------------------------------------------------------
# Auto-verify emails during registration (for testing)
AUTO_VERIFY_EMAILS=true

# Debug mode
DEBUG=true
DEBUG_SQL=false
ENABLE_REQUEST_LOGGING=true

# Logging
LOG_LEVEL=debug

# -----------------------------------------------------------------------------
# Build Info (for Docker)
# -----------------------------------------------------------------------------
GIT_COMMIT=local
BUILD_NUMBER=0
BUILD_TIME=

# -----------------------------------------------------------------------------
# Frontend Build Args
# -----------------------------------------------------------------------------
NEXT_PUBLIC_API_BASE_URL=http://localhost:8000
NEXT_PUBLIC_API_TIMEOUT=10000
NEXT_PUBLIC_ENV=development
NEXT_PUBLIC_JWT_STORAGE_KEY=club_management_token
NEXT_PUBLIC_JWT_REFRESH_STORAGE_KEY=club_management_refresh_token
NEXT_PUBLIC_APP_NAME=Club Management System (Local)
NEXT_PUBLIC_APP_VERSION=1.0.0-local
NEXT_PUBLIC_DEBUG=true

